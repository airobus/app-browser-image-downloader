<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="src/popup/styles/main.css">
</head>

<body>
  <div class="header">
    <h2>批量图片下载器</h2>
    <div class="count">找到 <span id="totalCount">0</span> 张图片</div>
  </div>

  <div class="controls">
    <button class="btn btn-secondary" id="selectAll">全选</button>
    <button class="btn btn-primary" id="download">下载选中 (<span id="selectedCount">0</span>)</button>
    <button class="btn btn-warning" id="filterSize">仅大图</button>
    <button class="btn btn-danger" id="clearSelection">清除选择</button>
  </div>

  <div id="status" class="status" style="display:none;"></div>

  <div class="gallery" id="gallery">
    <div class="loading">正在扫描页面图片...</div>
  </div>

  <!-- 图片预览模态框 -->
  <div id="previewModal" class="modal">
    <span class="close">&times;</span>
    <button class="nav-btn prev-btn">‹</button>
    <button class="nav-btn next-btn">›</button>
    <div class="modal-content">
      <img id="previewImage" src="" alt="预览图片">
      <div class="preview-info">
        <div class="info-row">
          <strong>尺寸：</strong><span id="previewDimension"></span>
        </div>
        <div class="info-row">
          <strong>大小：</strong><span id="previewSize"></span>
        </div>
        <div class="info-row">
          <strong>URL：</strong><span id="previewUrl"></span>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="src/popup/js/app.js"></script>
</body>

</html>